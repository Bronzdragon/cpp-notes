<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.3 (452849)"/><meta name="altitude" content="505"/><meta name="created" content="2015-07-21 06:07:30 +0000"/><meta name="latitude" content="46.60912198018898"/><meta name="longitude" content="13.84229055607118"/><meta name="source" content="mobile.iphone"/><meta name="updated" content="2015-07-21 06:16:07 +0000"/><title>Arrow Operator</title></head><body>An arrow operator overload should expose the underlying raw pointer (memory) object. There is special syntax governing the arrow operator in that it is applied recursively to itself until a pointer is exposed.<div><br/></div><div>class A</div><div>{</div><div>public:</div><div><br/></div><div>int* operator-&gt;() { return &amp;x; }</div><div><br/></div><div>const int x = 5;</div><div>}</div><div><br/></div><div>class B</div><div>{</div><div>public:</div><div>A operator-&gt;() { return A(); }</div><div>}</div><div><br/></div><div>B b.</div><div><br/></div><div>b-&gt;x // ((b.operator-&gt;().)operator-&gt;())-&gt;x;</div><div><br/></div><div><span style="color: rgb(104, 108, 110); font-family: 'Helvetica Neue', Helvetica, 'Droid Sans', DroidSansRegular, Arial, sans-serif; font-size: 13px; line-height: 16px; -webkit-tap-highlight-color: rgba(26, 26, 26, 0.301961); -webkit-text-size-adjust: 100%; background-color: rgb(255, 255, 255);">13.5.6/1[...] </span><i style="margin: 0px; padding: 0px; border: 0px; font-family: 'Helvetica Neue', Helvetica, 'Droid Sans', DroidSansRegular, Arial, sans-serif; font-size: 13px; line-height: 16px; vertical-align: baseline; color: rgb(104, 108, 110); -webkit-tap-highlight-color: rgba(26, 26, 26, 0.301961); -webkit-text-size-adjust: 100%; background-color: rgb(255, 255, 255);">An expression x-&gt;m is interpreted as<span> </span><code style="margin: 0px; padding: 0px; border: 0px; font-family: Menlo, Consolas, 'Droid Sans Mono', monospace, sans-serif; font-size: 13px; font-style: inherit; font-variant: inherit; font-weight: inherit; line-height: inherit; vertical-align: baseline; background-color: rgb(240, 240, 240); max-height: 300px; overflow: auto; word-break: break-all;">(x.operator-&gt;())-&gt;m</code><span> </span>for a class object x of type T if<span> </span><code style="margin: 0px; padding: 0px; border: 0px; font-family: Menlo, Consolas, 'Droid Sans Mono', monospace, sans-serif; font-size: 13px; font-style: inherit; font-variant: inherit; font-weight: inherit; line-height: inherit; vertical-align: baseline; background-color: rgb(240, 240, 240); max-height: 300px; overflow: auto; word-break: break-all;">T::operator-&gt;()</code><span> </span>exists and if the operator is selected as the best match function by the overload resolution mechanism</i><span style="color: rgb(104, 108, 110); font-family: 'Helvetica Neue', Helvetica, 'Droid Sans', DroidSansRegular, Arial, sans-serif; font-size: 13px; line-height: 16px; -webkit-tap-highlight-color: rgba(26, 26, 26, 0.301961); -webkit-text-size-adjust: 100%; background-color: rgb(255, 255, 255); display: inline !important;"><span> </span>If<span> </span></span><code style="margin: 0px; padding: 0px; border: 0px; font-family: Menlo, Consolas, 'Droid Sans Mono', monospace, sans-serif; font-size: 13px; line-height: 16px; vertical-align: baseline; background-color: rgb(240, 240, 240); max-height: 300px; overflow: auto; word-break: break-all; color: rgb(104, 108, 110); -webkit-tap-highlight-color: rgba(26, 26, 26, 0.301961); -webkit-text-size-adjust: 100%;">x-&gt;operator-&gt;()</code><span style="color: rgb(104, 108, 110); font-family: 'Helvetica Neue', Helvetica, 'Droid Sans', DroidSansRegular, Arial, sans-serif; font-size: 13px; line-height: 16px; -webkit-tap-highlight-color: rgba(26, 26, 26, 0.301961); -webkit-text-size-adjust: 100%; background-color: rgb(255, 255, 255); display: inline !important;"><span> </span>yields a pointer, it gets dereferenced, if it yields an object of a type that overloads<span> </span></span><code style="margin: 0px; padding: 0px; border: 0px; font-family: Menlo, Consolas, 'Droid Sans Mono', monospace, sans-serif; font-size: 13px; line-height: 16px; vertical-align: baseline; background-color: rgb(240, 240, 240); max-height: 300px; overflow: auto; word-break: break-all; color: rgb(104, 108, 110); -webkit-tap-highlight-color: rgba(26, 26, 26, 0.301961); -webkit-text-size-adjust: 100%;">operator-&gt;()</code><span style="color: rgb(104, 108, 110); font-family: 'Helvetica Neue', Helvetica, 'Droid Sans', DroidSansRegular, Arial, sans-serif; font-size: 13px; line-height: 16px; -webkit-tap-highlight-color: rgba(26, 26, 26, 0.301961); -webkit-text-size-adjust: 100%; background-color: rgb(255, 255, 255);"> that operator gets called.</span></div></body></html>